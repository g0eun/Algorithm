# GitHub Actions 이름
name: Update readme

# JOB 실행 조건
on:
  push:
    branches: [ "main" ] # main 브랜치에 push가 발생
  pull_request:

# JOB 정의
jobs:
  build:
    # 실행 환경 (Node.js 기준, 2024/04/24)
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Set up Python 3.10 
      uses: actions/setup-python@v5
      with:
        python-version: "3.10"

    # 수행 동작

#    # -- 라이브러리 설치 필요한 경우
#   - name: Install dependencies
#     run: |
#       python -m pip install --upgrade pip
#       pip install python-leetcode

    # -- update.py 실행
    - name: Run update.py
      run: |
        python update.py

    # -- 변경 사항 commit (파일 생성/수정)
    - name: Commit changes
      run: |
        git config --global user.name 'g0eun' # 유저명
        git config --global user.email 'lgulgu09@gmail.com' # 유저 이메일
        git branch --set-upstream-to origin/master # 기본 브랜치 설정
        git add -A
        git commit -am "auto update README.md" # 커밋 메시지
    - name: Push changes # 4) 메인에 푸시
      run: |
        git push
